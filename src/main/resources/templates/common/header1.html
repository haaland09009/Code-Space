<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>main</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<style>


</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<body>
<div th:fragment="header">
    <div class="row">
        <div class="col-8">
            <div class="row">
                <div class="col">
                    <a href="/">
                        <img src="/img/temporary_logo.png" class="mt-2" style="cursor: pointer; height: 50px;">
                    </a>
                </div>
            </div>

        </div>
        <div class="col">

            <div class="row mt-3 me-2">
                <div class="col-7 text-end">
<!--                    <input type="text" class="form-control">-->
                </div>
                <div class="col text-start" th:if="${session.userDTO != null}">
                    <div class="row">
                        <div class="col mt-1">
                            <i class="bi bi-bookmark fs-4 ms-4 text-secondary"></i>
                        </div>
                        <div class="col mt-1">
                            <i class="bi bi-bell alarmBell fs-4 ms-2 text-secondary" style="cursor:pointer;"
                            id="dropAlarmButton" data-bs-toggle="dropdown" aria-expanded="false"></i>
                            <div class="dropdown-menu row bg-light" aria-labelledby="dropAlarmButton" style="width: 450px">
                                <div class="col">

                                    <div class="row">
                                        <div class="col p-1 fw-semibold border-bottom border-1">
                                            <span class="ms-3" style="position: relative; bottom: 3px;"> 알림 </span>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col bg-white">

                                          <div class="row mt-2 mb-2"></div>
                                            <!---->
                                          <div class="row mt-2">
                                              <div class="col ms-3">
                                                    <div class="row">
                                                        <div class="col-1">
                                                            <img src="/img/user.jpg" class="rounded-circle" style="width: 28px; height: 28px; position: relative; bottom: 1px">
                                                        </div>
                                                        <div class="col ms-2 fw-semibold">
                                                            오케이수지
                                                        </div>
                                                        <div class="col text-end text-secondary me-1">
                                                            3분 전
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-1"></div>
                                                        <div class="col ms-2">
                                                              님이 회원님이 작성하신 글에 댓글을 달았습니다.
                                                        </div>
                                                    </div>

                                                  <div class="border-bottom mt-2"></div>
                                              </div>
                                          </div>
                                            <!---->
                                            <!---->
                                            <div class="row mt-2">
                                                <div class="col ms-3">
                                                    <div class="row">
                                                        <div class="col-1">
                                                            <img src="/img/user.jpg" class="rounded-circle" style="width: 28px; height: 28px; position: relative; bottom: 1px">
                                                        </div>
                                                        <div class="col ms-2 fw-semibold">
                                                            오케이수지
                                                        </div>
                                                        <div class="col text-end text-secondary me-1">
                                                            3분 전
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-1"></div>
                                                        <div class="col ms-2">
                                                            님이 회원님이 작성하신 글에 댓글을 달았습니다.
                                                        </div>
                                                    </div>

                                                    <div class="border-bottom mt-2"></div>
                                                </div>
                                            </div>
                                            <!---->

                                        </div>
                                    </div>
                                </div>
                            </div>
                         </div>
                        <div class="col mt-1 me-3">
                            <img class="rounded-circle" style="width: 35px; height: 35px; cursor: pointer;"
                                 src="/img/user.jpg" th:if="${session.userDTO.fileAttached == 0}"
                            id="dropButton" data-bs-toggle="dropdown" aria-expanded="false">
                            <img class="rounded-circle" style="width: 35px; height: 35px; cursor: pointer;"
                                 th:src="@{|/upload/${session.userDTO.storedFileName}|}"
                                 th:if="${session.userDTO.fileAttached == 1}"
                                 id="dropButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            <ul class="dropdown-menu" aria-labelledby="dropButton">
                                <li>
                                    <a class="dropdown-item" href="/user/myPage">
                                        <i class="bi bi-person"></i>
                                        <span class="ms-1"> 마이페이지 </span>
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/user/logout">
                                        <i class="bi bi-box-arrow-right"></i>
                                        <span class="ms-1"> 로그아웃 </span>
                                    </a>
                                </li>
                            </ul>
                            <ul class="dropdown-menu" aria-labelledby="dropButton1">
                                <li>
                                    <a class="dropdown-item" href="/user/myPage">
                                        <i class="bi bi-person"></i>
                                        <span class="ms-1"> 마이페이지 </span>
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/user/logout">
                                        <i class="bi bi-box-arrow-right"></i>
                                        <span class="ms-1"> 로그아웃 </span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

<!--                    <span class="fw-bold" th:text="${session.userDTO.nickname}"></span>-->
<!--                    <span class="me-1">님</span>-->
<!--                    <span class="me-1" onclick="logout()" style="cursor: pointer;">로그아웃</span>-->
                </div>
                <div class="col text-start" th:if="${session.userDTO == null}">
                    <button class="btn orangeButton" onclick="loginPage()">로그인</button>
                    <button class="btn btn-secondary" onclick="joinPage()">회원가입</button>
                </div>
            </div>

        </div>
    </div>

    <div class="border-bottom mt-3"></div>

</div>
<script th:inline="javascript">

    /*<![CDATA[*/
     let sessionId = [[${session.userDTO != null ? session.userDTO.id : 0}]];
 /*]]>*/

  const getNotificationList = () => {
        $.ajax({
         type: "get",
         url: "/notification/findAll/" + sessionId,
         success: function(res) {



         },
         error: function(err) {
             return;
         }
     });

  }


</script>
</body>
</html>