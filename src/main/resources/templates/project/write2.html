<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>main</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script type="text/javascript" th:src="@{/js/common.js}"></script>
</head>
<style>

</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<body>
<div class="container-fluid">
    <div th:include="common/header :: header"></div>


    <div class="row">
        <div class="col-2">
            <div th:include="common/sidemenu :: sidemenu"></div>
        </div>

        <div class="col bg-light">

            <div class="row mt-3 mb-4"></div>
            <div class="row">
                <div class="col ms-5">

                    <div class="row">
                        <div class="col fs-4 fw-semibold">
                            모집 만들기
                        </div>
                    </div>

                    <div class="row mt-4">
                        <!-- 게시판 영역 -->
                        <div class="col bg-white ms-2 border border-1 rounded-2" style="height: 620px;">

                            <div class="row mt-3">
                                <div class="col ms-3">

                                    <form action="/project/write" method="post" onsubmit="return writeBoard();">

                                        <input type="hidden" name="userId" th:value="${session.userDTO.id}">
                                        <div class="row">
                                            <div class="col">
                                                <input type="text" class="form-control mt-2 p-2" placeholder="제목" style="text-indent: 8px"
                                                id="title" name="title">
                                            </div>
                                            <div class="col-4 text-end">
                                                <input type="submit" class="btn orangeButton mt-2" value="작성">
                                            </div>
                                        </div>

                                        <div class="row mt-3">
                                            <div class="col">
                                                <textarea name="content" id="content" cols="30" rows="20" class="form-control"></textarea>
                                            </div>
                                        </div>

                                    </form>


                                </div>
                                <div class="col-1"></div>
                            </div>


                        </div>
                        <!-- 게시판 영역 -->
                        <div class="col-3"></div>
                    </div>



                </div>
            </div>



        </div>
    </div>
</div>

<script th:inline="javascript">

    // 게시글 작성
    const writeBoard = () => {
        const title = document.querySelector("#title");
        const content = document.querySelector("#content");
        const userId = [[${session.userDTO.id}]];

        if (userId == null) {
            location.href = "/user/loginPage";
            return false;
        }

        if (title.value.trim() == "") {
            alert("제목을 입력하세요.");
            title.focus();
            return false;
        }

        if (content.value.trim() == "") {
            alert("내용을 입력하세요.");
            content.focus();
            return false;
        }
        return true;
    }

</script>
</body>
</html>